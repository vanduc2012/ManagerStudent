<!doctype html>
<html>
<head>
    <title>API</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type='text/javascript' src="knockout-3.5.0.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js"></script>-->
   <!-- <script src="jquery-3.3.1.js"></script>-->
    <script src="knockout.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
    <center><h4>Show API with knockoutJs</h4></center>
    <br />
    <hr />
    <center><button id="Add" type="reset" class="btn btn-sm btn-primary">Add New Student</button> </center>
    
    <br />
    <div style=" position:fixed; top: 0px; width: 50%;  padding:0px; margin: 0px 300px; display:block; opacity: 0.9 ;z-index:999; background-color:cadetblue; color: blue;">
        <form id="AddST" class="form-horizontal" method="post" data-bind="submit:AddStudent">
            <div class="form-group" data-bind="with: newStudent">
                <label class="col-md-4 control-label" for="codeView">Code View</label>
                <div class="col-md-12">
                    <input type="number" id="codeview" class="form-control" min="8" maxlength="8" title="Please insert format of number." placeholder="Code View" required="" data-bind="value: codeView" />
                    <span id="errorCodeView" style="background-color:sandybrown;">Please insert codeview with length is 8 char.</span>
                    <span id="errorLoop" style="background-color:sandybrown;">Codeview is existed.</span>
                </div>

                <label class="col-md-4 control-label" for="name">Name</label>
                <div class="col-md-12">
                    <input maxlength="50" min="5" type="text" id="name" class="form-control" placeholder="Name" data-bind="value:name" />
                </div>

                <label class="col-md-4 control-label" for="address">Address</label>
                <div class="col-md-12">
                    <input maxlength="255" type="text" id="address" class="form-control" placeholder="Address" data-bind="value:address" />
                </div>

                <label class="col-md-4 control-label" for="dateOfBirtd">Date of birth</label>
                <div class="col-md-12">
                    <input type="date" id="dateofbirtd" class="form-control" placeholder="Date of birth" data-bind="value:dateOfBirtd" />
                </div>

                <label class="col-md-4 control-label" for="phone">Phone</label>
                <div class="col-md-12">
                    <input type="number" maxlength="11" title="Please insert format of number and range 11 numbers" id="phone" class="form-control" placeholder="Phone" data-bind="value:phone" />
                </div>
            </div>
            <label class="col-md-4 control-label" for="idClasses">Class</label>
            <div class="col-md-12">
                <select class="form-control" id="idClasses" data-bind="options:listClass, optionsText: 'name',optionsValue: 'id', value:newStudent.Classes"></select>
            </div>
            <br />
            <center>
                <button id="actionAdd" class="btn btn-success btn-sm-block" type="submit">Submit</button>
                <button id="actionCancel" type="reset" class="btn btn-warning btn-sm-block ">Cancel</button>
            </center>
        </form>
    </div>
    
    <div id="box-update" style=" position:fixed; top: 0px; width: 50%;  padding:0px; margin: 0px 300px; display:table; align-items:center; justify-content: center; opacity: 0.9 ;z-index:999; background-color:cadetblue; color: blue;">
        <center><button id="UpdateLB" type="reset" class="btn btn-sm btn-primary">Update Student</button> </center>
        <form id="UpdateForm" class="form-horizontal" method="put" data-bind="submit:updateStudent">
            <div class="form-group">
                <label class="col-md-4 control-label" hidden="hidden" for="id">Id</label>
                <div class="col-md-12 col-sm-12">
                    <input type="number" hidden="hidden" disabled="disabled" id="id-UD" class="form-control" data-bind="value: id" />
                </div>
                <label class="col-md-4 control-label" for="codeView">Code View</label>
                <div class="col-md-12 col-sm-12">
                    <input type="number" disabled="disabled" id="codeview-UD" class="form-control" maxlength="7" title="Please insert format of number." placeholder="Code View" required="" data-bind="value: codeView" />
                </div>

                <label class="col-md-4 control-label" for="name">Name</label>
                <div class="col-md-12 col-sm-12">
                    <input maxlength="50" min="5" type="text" id="name-UD" class="form-control" placeholder="Name" data-bind="value:name" />
                </div>

                <label class="col-md-4 control-label" for="address">Address</label>
                <div class="col-md-12 col-sm-12">
                    <input maxlength="255" type="text" id="address-UD" class="form-control" placeholder="Address" data-bind="value:address" />
                </div>

                <label class="col-md-4 control-label" for="dateOfBirtd">Date of birth</label>
                <div class="col-md-12 col-sm-12">
                    <input type="datetime-local" id="dateofbirtd-UD" class="form-control" placeholder="Date of birth" data-bind="value:dateOfBirtd" />
                </div>

                <label class="col-md-4 control-label" for="phone">Phone</label>
                <div class="col-md-12 col-sm-12">
                    <input type="number" maxlength="11" title="Please insert format of number and range 11 numbers" id="phone-UD" class="form-control" placeholder="Phone" data-bind="value:phone" />
                </div>
            </div>
            <label class="col-md-4 control-label" for="idClasses">Class</label>
            <div class="col-md-12 col-sm-12">
                <select class="form-control" id="idClasses-UD" data-bind="options:listClass, optionsText: 'name', optionsValue: 'id', value:newStudent.Classes"></select>
            </div>
            <br />
            <center>
                <button id="actionUpdate" class="btn btn-danger btn-sm-block" type="submit">Submit</button>
                <button id="actionCancelUD" type="reset" class="btn btn-warning btn-sm-block ">Cancel</button>
            </center>
        </form>
    </div>
    
    <hr />
    <table class="table table-striped table-bordered table-condensed table-reponsive">
        <thead>
            <tr style="text-align: center;">
                <th hidden>Id</th>
                <th>CodeView</th>
                <th>Name</th>
                <th>Address</th>
                <th>Date Of Birth</th>
                <th>Phone</th>
                <th>Class</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: students">
            <tr>
                <td hidden data-bind="text: id"></td>
                <td data-bind="text: codeView"></td>
                <td data-bind="text: name"></td>
                <td data-bind="text: address"></td>
                <td data-bind="text: dateOfBirtd"></td>
                <td data-bind="text: phone"></td>
                <td data-bind="text: idClasses"></td>
                <td>
                    <button type="button" id="update" class="btn btn-primary btn-sm" data-bind="click: $parent.GetDataToTB">Update</button>
                    <input type="button" class="btn btn-danger btn-sm" value="Delete" data-bind="click: $parent.DeleteStudent" />
                </td>
            </tr>
        </tbody>
    </table>

    <br />
</body>
</html>

